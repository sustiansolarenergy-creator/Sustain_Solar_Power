<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body { background:#f4f6f9; }
.sidebar {
  height:100vh;
  background:#0d6efd;
  color:#fff;
}
.sidebar a {
  color:#fff;
  text-decoration:none;
  display:block;
  padding:12px;
}
.sidebar a:hover {
  background:#084298;
}
</style>
</head>
<body>

<div class="container-fluid">
  <div class="row">

    <!-- SIDEBAR -->
    <div class="col-md-2 sidebar p-0">
      <h5 class="text-center py-3">My Dashboard</h5>
      <a href="#" onclick="loadPage('products')">➕ Products</a>
      <a href="#" onclick="loadPage('quotation')">🧾 Quotation</a>
      <a href="#" onclick="loadPage('invoice')">📄 Invoice</a>
      <a href="login.html">🚪 Logout</a>
    </div>

    <!-- CONTENT -->
    <div class="col-md-10 p-4">
      <div id="content">
        <h3>Welcome machi 👋</h3>
        <p>Select menu from left</p>
      </div>
    </div>

  </div>
</div>


<script>
let products = [];

function loadPage(page) {

  /* ================= PRODUCTS ================= */
  if (page === "products") {
    document.getElementById("content").innerHTML = `
      <h4>Add Product</h4>
      <input class="form-control mb-2" id="pname" placeholder="Product Name">
      <input class="form-control mb-2" id="price" placeholder="Price">
      <button class="btn btn-primary" onclick="addProduct()">Add</button>

      <hr>
      <h5>Product List</h5>
      <ul id="productList" class="list-group"></ul>
    `;
    renderProducts();
  }

  /* ================= QUOTATION ================= */
  else if (page === "quotation") {

    if (products.length === 0) {
      document.getElementById("content").innerHTML =
        "<p class='text-danger'>No products found. Please add products first.</p>";
      return;
    }

    let options = products.map(
      (p, i) => `<option value="${i}">${p.name} - ₹${p.price}</option>`
    ).join("");

    document.getElementById("content").innerHTML = `
      <h4>Create Quotation</h4>

      <select id="qProduct" class="form-control mb-2">
        ${options}
      </select>

      <input id="qQty" type="number" class="form-control mb-2" placeholder="Quantity">

      <button class="btn btn-success" onclick="generateQuotation()">Generate Quotation</button>

      <div id="qResult" class="mt-3"></div>
    `;
  }

  /* ================= INVOICE ================= */
  else if (page === "invoice") {

    if (products.length === 0) {
      document.getElementById("content").innerHTML =
        "<p class='text-danger'>No products found. Please add products first.</p>";
      return;
    }

    let options = products.map(
      (p, i) => `<option value="${i}">${p.name} - ₹${p.price}</option>`
    ).join("");

    document.getElementById("content").innerHTML = `
      <h4>Generate Invoice</h4>

      <select id="iProduct" class="form-control mb-2">
        ${options}
      </select>

      <input id="iQty" type="number" class="form-control mb-2" placeholder="Quantity">

      <button class="btn btn-warning" onclick="generateInvoice()">Generate Invoice</button>

      <div id="iResult" class="mt-3"></div>
    `;
  }
}

/* ================= PRODUCT FUNCTIONS ================= */

function addProduct() {
  let name = document.getElementById("pname").value;
  let price = parseFloat(document.getElementById("price").value);

  if (!name || !price) {
    alert("Enter product name and price");
    return;
  }

  products.push({ name, price });
  document.getElementById("pname").value = "";
  document.getElementById("price").value = "";
  renderProducts();
}

function renderProducts() {
  let list = document.getElementById("productList");
  if (!list) return;

  list.innerHTML = "";
  products.forEach((p, i) => {
    list.innerHTML += `
      <li class="list-group-item">
        ${p.name} - ₹${p.price}
      </li>`;
  });
}

/* ================= QUOTATION ================= */

function generateQuotation() {
  let p = products[document.getElementById("qProduct").value];
  let qty = parseInt(document.getElementById("qQty").value);

  if (!qty || qty <= 0) {
    alert("Enter valid quantity");
    return;
  }

  let total = p.price * qty;

  document.getElementById("qResult").innerHTML = `
    <div class="alert alert-info">
      <b>Product:</b> ${p.name}<br>
      <b>Qty:</b> ${qty}<br>
      <b>Total:</b> ₹${total}
    </div>
  `;
}

/* ================= INVOICE ================= */

function generateInvoice() {
  let p = products[document.getElementById("iProduct").value];
  let qty = parseInt(document.getElementById("iQty").value);

  if (!qty || qty <= 0) {
    alert("Enter valid quantity");
    return;
  }

  let subtotal = p.price * qty;
  let gst = subtotal * 0.18;
  let total = subtotal + gst;

  document.getElementById("iResult").innerHTML = `
    <div class="alert alert-warning">
      <b>Product:</b> ${p.name}<br>
      <b>Qty:</b> ${qty}<br>
      <b>Subtotal:</b> ₹${subtotal}<br>
      <b>GST (18%):</b> ₹${gst}<br>
      <b>Total:</b> ₹${total}
    </div>
  `;
}


</script>




<script src="dashboard.js"></script>
</body>
</html>
